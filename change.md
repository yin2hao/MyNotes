# 目前预设的后端对于多样本的处理方法

  

## 原本

**整体流程：**

| 操作         | 前端处理                  | 后端处理                                                                    | 后端返回值                                      |
| ---------- | --------------------- | ----------------------------------------------------------------------- | ------------------------------------------ |
| 仪表创建       | 发送`instrument/add`    | 为数据库`t_gas_instrument`插入一条数据                                            | 不重要                                        |
| 创建委托       | 发送`commission/commit` | 为数据库`t_gas_commission`插入一条数据                                            | 不重要                                        |
| 委托受理       | 发送`commission/audit`  | 更新数据库`t_gas_commission`的数据（为对应条目增加检定项目要求，受理人等）</br>为数据库t_gas_task插入一条数据 | 不重要                                        |
| 测试任务（分页查询） | 发送`task/queryPage`    | 根据传入数据查询对应的`t_gas_task`表单项并分页返回前端                                       | 抛开响应信息（比如请求是否成功什么的）不说，主体信息（即查询的信息）是一个一维度数组 |
| 开始实验       | 根据选中的以taskId为基准开始实验   | \                                                                       | \                                          |
| 实验存档       | 发送`[当前检定项目]/add`      | 为 `t_gas_[当前检定项目]`插入一条数据                                                | 不重要                                        |
| 核验（分页查询）   | 发送`gasdata/queryPage` | 根据传入数据查询对应的`t_gas_data表单项并分页返回前端                                        | 抛开响应信息（比如请求是否成功什么的）不说，主体信息（即查询的信息）是一个一维度数组 |
| 核验（确定）     | 发送                    |                                                                         |                                            |

## 现在
**整体流程**

| 位置         | 前端处理                | 后端处理                                                                                                          | 后端返回值                                      |
| ---------- | ------------------- | ------------------------------------------------------------------------------------------------------------- | ------------------------------------------ |
| 仪表创建       | 发送instrument/add    | 为数据库t_gas_instrument插入一条数据                                                                                    | 不重要                                        |
| 创建委托       | 发送commission/commit | 为数据库t_gas_commission插入一条数据                                                                                    | 不重要                                        |
| 委托受理       | 发送commission/audit  | 更新数据库t_gas_commission的数据（为对应条目增加检定项目要求，受理人等）</br>为数据库t_gas_task插入[样品数量(sample)]条数据，对应同一个委托，用来处理每个样品都需要进行实验的问题 | 不重要                                        |
| 测试任务（分页查询） | 发送task/queryPage    | 根据传入数据查询对应的t_gas_task表单项并分页返回前端                                                                               | 抛开相应信息（比如请求是否成功什么的）不说，主体信息（即查询的信息）是一个一维度数组 |
| 开始实验       | 根据选中的以taskId为基准开始实验 | \                                                                                                             |                                            |
|            |                     |                                                                                                               |                                            |
